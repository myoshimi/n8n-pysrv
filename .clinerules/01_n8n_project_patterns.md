# N8N Python Server プロジェクトの学習事項

## プロジェクト固有のパターン

### N8N 統合ベストプラクティス

- **HTTP Request Node 設定の標準パターン**:
  ```javascript
  {
    "method": "POST",
    "url": "http://n8n-python-server:8000/items",
    "headers": {"Content-Type": "application/json"},
    "body": {
      "name": "{{ $json.item_name }}",
      "price": {{ $json.price }},
      "is_available": true
    }
  }
  ```
- **エラーレスポンス形式**: N8N で扱いやすい `{"error": "message", "status_code": 404}` 形式
- **ヘルスチェック**: `/health` エンドポイントで監視対応

### FastAPI + Poetry + Docker 標準構成

- **package-mode = false**: アプリケーションとしての設定が重要
- **Uvicorn standard extras**: 本格運用に必要なコンポーネント統合
- **Docker Compose**: 開発時のライブリロード設定が開発効率向上のキー

### MVP から本格運用への段階的拡張戦略

- **Phase 1 (MVP)**: 基本機能実装、動作確認
- **Phase 2 (実用化)**: データ永続化、認証、テスト追加
- **Phase 3 (本格運用)**: 高可用性、監視、スケーリング対応
- **技術的制約の意図的設計**: 学習コスト削減と将来選択肢保持のバランス

## メモリバンク構築の効果的アプローチ

### コアファイル構成の重要性

1. **projectbrief.md**: 全体の方向性を決める基盤文書
2. **productContext.md**: 問題解決の背景と価値提案
3. **systemPatterns.md**: 技術的アーキテクチャとデザインパターン
4. **techContext.md**: 技術選択の理由と制約
5. **activeContext.md**: 現在の作業状況と意思決定事項
6. **progress.md**: 完成状況と具体的な残作業

### 文書化のポイント

- **将来の自分への配慮**: メモリリセット前提での詳細記録
- **段階的拡張パスの明示**: 現在の制約と将来の選択肢を明確化
- **技術的意思決定の記録**: なぜその技術を選んだかの背景保持

## このプロジェクトで有効だったツールパターン

### sequential-thinking の活用

- プロジェクト全体整理で体系的思考が有効
- 複雑な要件を段階的に分解して整理

### Memory Bank の価値

- 包括的な文書化により、プロジェクト継続性が大幅向上
- 技術的意思決定の背景保持で、将来の拡張判断が容易に

### 開発環境統合

- VSCode + Poetry + Docker の組み合わせで開発効率最大化
- 自動フォーマットによるコード品質向上

## 今後の類似プロジェクトでの応用指針

### N8N 統合プロジェクトでの必須要素

1. **標準的な HTTP エンドポイント設計**: RESTful 原則遵守
2. **自動 API ドキュメント生成**: Swagger UI 対応必須
3. **Docker 環境**: N8N との連携を考慮した設定
4. **段階的拡張設計**: MVP → 実用化 → 本格運用の明確なパス

### Memory Bank 活用戦略

- 新規プロジェクト開始時にコアファイル構造を即座に構築
- 技術選択時の意思決定背景を必ず記録
- 定期的な progress.md 更新で進捗の可視化
- activeContext.md での現在フォーカスの明確化

## 重要な気づき

この N8N Python Server プロジェクトは「テンプレート化可能な標準パターン」として機能する可能性が高い。今回構築したメモリバンクと実装パターンは、類似プロジェクトの開発時間短縮に大きく貢献できる資産である。
